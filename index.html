<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8">
    <title>Sirius Javascript Simulator</title>
    <style>
        th {
            text-align: left;
        }
    </style>
    <script type="text/javascript" src="./js/config.js"></script>
    <script type="text/javascript" src="./js/initial-balancing.js"></script>
    <script type="text/javascript" src="./js/simulator-functions.js"></script>
    
</head>
<body>
    <script type="text/javascript">
        
        let tempIdKey;
        let tempToken;
        let newUserCreated;
        let token;
        let initialBalancingCreated;
        let latestBalancingRetrieved;
        let latestInventoryRetrieved;
        let settlementCreated;
        let buildingsCreated = new Array();
        let productionCollected = new Array();
    
        let buildingBarracksTimerInterval;
        let buildingFarmTimerInterval;
        let buildingGoldMineTimerInterval;
        let buildingLumberMillTimerInterval;
        let buildingIronMineTimerInterval;

        document.addEventListener('DOMContentLoaded', (event) => {
            
            init();
            
        });

        function init(){
            intialState();
        }

        function intialState(){
            disableLoginButtons();
            hideBuildBuildingsControls();
            hideProductionControls();
            hideInventoryControls();
        }
        function postLoginState(){
            hideRegistrationControl();
            hideLoginControlrs();
            buildSettlement();
        }

        function hideRegistrationControl(){
            document.getElementById('register-button').style.visibility = 'hidden';
        }
        function hideLoginControlrs(){
            document.getElementById('login-button').style.visibility = 'hidden';
        }

        function disableRegistrationButton(){
            document.getElementById('register-button').disabled = true;
        }

        function disableLoginButtons(){
            document.getElementById('login-button').disabled = true;
        }

        function enableLoginButtons(){
            document.getElementById('login-button').disabled = false;
        }

        function hideProductionControls(){
            document.getElementById('production-buttons-row').style.visibility  = 'hidden';
        }

        function showProductionControls(){
            document.getElementById('production-buttons-row').style.visibility  = 'visible';
        }

        function disableProductionButtons(){
            document.getElementById('produce-barracks-button').disabled = true;
            document.getElementById('produce-farm-button').disabled = true;
            document.getElementById('produce-gold-mine-button').disabled = true;
            document.getElementById('produce-lumber-mill-button').disabled = true;
            document.getElementById('produce-iron-mine-button').disabled = true;
        }

        function hideInventoryControls(){
            document.getElementById('inventory-info').style.visibility  = 'hidden';
            document.getElementById('inventory-soldiers').style.visibility  = 'hidden';
            document.getElementById('inventory-food').style.visibility  = 'hidden';
            document.getElementById('inventory-gold').style.visibility  = 'hidden';
            document.getElementById('inventory-lumber').style.visibility  = 'hidden';
            document.getElementById('inventory-iron').style.visibility  = 'hidden';
        }

        function showInventoryControls(){
            document.getElementById('inventory-info').style.visibility  = 'visible';
            document.getElementById('inventory-soldiers').style.visibility  = 'visible';
            document.getElementById('inventory-food').style.visibility  = 'visible';
            document.getElementById('inventory-gold').style.visibility  = 'visible';
            document.getElementById('inventory-lumber').style.visibility  = 'visible';
            document.getElementById('inventory-iron').style.visibility  = 'visible';
        }

        function hideBuildBuildingsControls(){
            document.getElementById('build-barracks-row').style.visibility  = 'hidden';
            document.getElementById('build-farm-row').style.visibility  = 'hidden';
            document.getElementById('build-gold-mine-row').style.visibility  = 'hidden';
            document.getElementById('build-lumber-mill-row').style.visibility  = 'hidden';
            document.getElementById('build-iron-mine-row').style.visibility  = 'hidden';
        }

        function showBuildBuildingsControls(){
            document.getElementById('build-barracks-row').style.visibility  = 'visible';
            document.getElementById('build-farm-row').style.visibility  = 'visible';
            document.getElementById('build-gold-mine-row').style.visibility  = 'visible';
            document.getElementById('build-lumber-mill-row').style.visibility  = 'visible';
            document.getElementById('build-iron-mine-row').style.visibility  = 'visible';
        }

        const registerHandler = async () => {
            console.log('registerHandler is called');

            tempIdKey = readTempIdKeyFromConfig();
            tempToken = await login(tempIdKey);
            bearerToken = tempToken.accessToken;

            newUserCreated = await register();
            
            var elem = document.querySelector('#user-info');

            // Get HTML content
            var html = elem.innerHTML;
            elem.innerHTML = 'New user with username ' +  newUserCreated.username + ' registered';

            disableRegistrationButton();
            enableLoginButtons();
 
        }

        const loginHandler = async () => {
            console.log('loginHandler is called');

            const userForLogin = { 
                "siriusId": newUserCreated.siriusId, 
                "siriusKey": newUserCreated.siriusKey,
                "appId": tempIdKey.appId,
                "appKey": tempIdKey.appKey
                
            };

            token = await login(userForLogin);
            bearerToken = token.accessToken;

            let elem = document.querySelector('#user-info');

            // Get HTML content
            let html = elem.innerHTML;
            
            if (token.accessToken !== null 
                && token.accessToken !== 'undefined' 
                && token.accesToken !== ''){

                elem.innerHTML = 'Welcome user ' +  newUserCreated.username + ' , you are now logged in';

                postLoginState();
            }
        }

        const retrieveLatestBalancing = async () => {

            latestBalancingRetrieved = await latestBalancing();

            if (latestBalancingRetrieved.statusCode === 404 && latestBalancingRetrieved.message === 'No Data Yet') {
                
                initialBalancingCreated = await initializeBalancing();
                latestBalancingRetrieved = initialBalancingCreated;

                console.log('No balancing data found. Initial balancing created...');
                console.log(initialBalancingCreated.contents);

            } else {
                
                console.log('Balancing data found. Latest balancing retrieved...')
                console.log(latestBalancingRetrieved.contents);
            }     
            
        }

        const retrieveUserInventory = async () => {
            latestInventoryRetrieved = await latestUserInventory(newUserCreated.id);
            
            if (latestInventoryRetrieved.content.length === 0) {
                console.log('No inventory found for user with id: ' + newUserCreated.id);
            } else {
                console.log('Latest inventory retrieved');
                console.log(latestInventoryRetrieved);
            }
        }

        async function monitorBuildingBarracksStatus(buildingId, balancingContentId, buildTime){
            console.log('monitorBuildingBarracksStatus called');
            console.log('buildingId: ' + buildingId);
            console.log('balancingContentId: ' + balancingContentId);
            console.log('buildTime: ' + buildTime);

            let activatedBuilding;

            while (true) {
                console.log('monitoring if barracks is activated');
                await sleep(buildTime + '000');
                activatedBuilding = await getBuilding(buildingId);

                if(activatedBuilding.status === 'activated') {
                    buildBarracksActivatedCallback(activatedBuilding);
                    console.log('activated building id: ' + activatedBuilding.id);
                    console.log('activated building balancing content id: ' + activatedBuilding.balancingContentId);
                    console.log('activated building status: ' + activatedBuilding.status);
                    buildingsCreated.push(activatedBuilding);
                    console.log('List of buildings created: ' + JSON.stringify(buildingsCreated));
                    
                    break;
                }
            }
        }

        async function monitorBuildingFarmStatus(buildingId, balancingContentId, buildTime){
            console.log('monitorBuildingFarmStatus called');
            console.log('buildingId: ' + buildingId);
            console.log('balancingContentId: ' + balancingContentId);
            console.log('buildTime: ' + buildTime);

            let activatedBuilding;

            while (true) {
                console.log('monitoring if farm is activated');
                await sleep(buildTime + '000');
                activatedBuilding = await getBuilding(buildingId);

                if(activatedBuilding.status === 'activated') {
                    buildFarmActivatedCallback(activatedBuilding);
                    console.log('activated building id: ' + activatedBuilding.id);
                    console.log('activated building balancing content id: ' + activatedBuilding.balancingContentId);
                    console.log('activated building status: ' + activatedBuilding.status);
                    buildingsCreated.push(activatedBuilding);
                    console.log('List of buildings created: ' + JSON.stringify(buildingsCreated));
                    
                    break;
                }
            }
        }

        async function monitorBuildingGoldMineStatus(buildingId, balancingContentId, buildTime){
            console.log('monitorBuildingGoldMineStatus called');
            console.log('buildingId: ' + buildingId);
            console.log('balancingContentId: ' + balancingContentId);
            console.log('buildTime: ' + buildTime);

            let activatedBuilding;

            while (true) {
                console.log('monitoring if gold-mine is activated');
                await sleep(buildTime + '000');
                activatedBuilding = await getBuilding(buildingId);

                if(activatedBuilding.status === 'activated') {
                    buildGoldMineActivatedCallback(activatedBuilding);
                    console.log('activated building id: ' + activatedBuilding.id);
                    console.log('activated building balancing content id: ' + activatedBuilding.balancingContentId);
                    console.log('activated building status: ' + activatedBuilding.status);
                    buildingsCreated.push(activatedBuilding);
                    console.log('List of buildings created: ' + JSON.stringify(buildingsCreated));
                    
                    break;
                }
            }
        }

        async function monitorBuildingLumberMillStatus(buildingId, balancingContentId, buildTime){
            console.log('monitorBuildingLumberMillStatus called');
            console.log('buildingId: ' + buildingId);
            console.log('balancingContentId: ' + balancingContentId);
            console.log('buildTime: ' + buildTime);

            let activatedBuilding;

            while (true) {
                console.log('monitoring if lumber-mill is activated');
                await sleep(buildTime + '000');
                activatedBuilding = await getBuilding(buildingId);

                if(activatedBuilding.status === 'activated') {
                    buildLumberMillActivatedCallback(activatedBuilding);
                    console.log('activated building id: ' + activatedBuilding.id);
                    console.log('activated building balancing content id: ' + activatedBuilding.balancingContentId);
                    console.log('activated building status: ' + activatedBuilding.status);
                    buildingsCreated.push(activatedBuilding);
                    console.log('List of buildings created: ' + JSON.stringify(buildingsCreated));
                    
                    break;
                }
            }
        }
        
        async function monitorBuildingIronMineStatus(buildingId, balancingContentId, buildTime){
            console.log('monitorBuildingIronMineStatus called');
            console.log('buildingId: ' + buildingId);
            console.log('balancingContentId: ' + balancingContentId);
            console.log('buildTime: ' + buildTime);

            let activatedBuilding;

            while (true) {
                console.log('monitoring if iron-mine is activated');
                await sleep(buildTime + '000');
                activatedBuilding = await getBuilding(buildingId);

                if(activatedBuilding.status === 'activated') {
                    buildIronMineActivatedCallback(activatedBuilding);
                    console.log('activated building id: ' + activatedBuilding.id);
                    console.log('activated building balancing content id: ' + activatedBuilding.balancingContentId);
                    console.log('activated building status: ' + activatedBuilding.status);
                    buildingsCreated.push(activatedBuilding);
                    console.log('List of buildings created: ' + JSON.stringify(buildingsCreated));
                    
                    break;
                }
            }
        }

        async function monitorProductionQuantity(productionId, secondInterval, produceId){
            console.log('monitoring product quantity');
            console.log('production id: ' + productionId);
            console.log('second interval: ' + secondInterval);

            let productionReadyForCollection;

            while(true){
                await sleep(secondInterval + '000')
                let monitoredProduction = await retrieveProduction(productionId);

                if (monitoredProduction.meta.quantity !== 0) {
                    console.log('quantity is now: ' + monitoredProduction.meta.quantity + ' for produceId ' + monitoredProduction.meta.produceId);
                    let collectedProduction = await collectProduction(monitoredProduction.buildingId);
                    console.log('collected production');
                    console.log(collectedProduction);

                    latestInventoryRetrieved = await latestUserInventory(newUserCreated.id);
                    console.log('post collect inventory retrieval: ' + JSON.stringify(latestInventoryRetrieved));

                    let elem = document.querySelector('#inventory-'+produceId);
                    let html = elem.innerHTML;
            
                    if(latestInventoryRetrieved.content.length !==0) {
                        elem.innerHTML = produceId + ': ' + latestInventoryRetrieved.content[0].quantity;  
                    }
                    
                }
                
            }
        }

        const startProduction = async (balancingContentId, itemId) => {
            console.log('production for ' + balancingContentId + ' triggered');

            //retrieve the necessary function parameters for starting the production
            let buildingId;
            
            console.log('iterating on buildings created');
            console.log(buildingsCreated);

            for (i = 0; i < buildingsCreated.length; i++) {
                console.log('iteration step: '+ i);
                console.log('comparing '+ buildingsCreated[i].balancingContentId);
                console.log('to '+ balancingContentId);

                if (buildingsCreated[i].balancingContentId === balancingContentId){
                    buildingId = buildingsCreated[i].id;
                    console.log('retrieving building id: ' + buildingsCreated[i].id);
                    break;
                }

            }

            let production = await createProduction(buildingId, itemId, 'start');
            monitorProductionQuantity(production.id, 1, itemId); 
            console.log('production is in progress');
            console.log(production)

        }
        
        function buildingBarracksStartTimer(millisecondTick, buildTime){
            let seconds = buildTime;
            let minutes = 0; 
            let hours = 0;

            buildingBarracksTimerInterval = setInterval(function () {           
                
                seconds--;

                if (seconds >= 0) {
                    minutes = Math.floor(seconds/60);
                    hours = Math.floor(minutes/60);
                } else {
                    minutes = 0;
                    hours = 0;
                }
                

            var elem = document.querySelector('#build-barracks-timer');
            elem.value = 'hours:'+hours+', minute:'+minutes+', seconds:'+seconds

            }, millisecondTick);
            
        }

        function buildingFarmStartTimer(millisecondTick, buildTime){
            let seconds = buildTime; 
            let minutes = 0; 
            let hours = 0;

            buildingFarmTimerInterval = setInterval(function () {           
                
                seconds--;

                if (seconds >= 0) {
                    minutes = Math.floor(seconds/60);
                    hours = Math.floor(minutes/60);
                } else {
                    minutes = 0;
                    hours = 0;
                }


            var elem = document.querySelector('#build-farm-timer');
            elem.value = 'hours:'+hours+', minute:'+minutes+', seconds:'+seconds

            }, millisecondTick);
            
        }

        function buildingGoldMineStartTimer(millisecondTick, buildTime){
            let seconds = buildTime; 
            let minutes = 0; 
            let hours = 0;

            buildingGoldMineTimerInterval = setInterval(function () {           
                
                seconds--;

                if (seconds >= 0) {
                    minutes = Math.floor(seconds/60);
                    hours = Math.floor(minutes/60);
                } else {
                    minutes = 0;
                    hours = 0;
                }


            var elem = document.querySelector('#build-gold-mine-timer');
            elem.value = 'hours:'+hours+', minute:'+minutes+', seconds:'+seconds

            }, millisecondTick);
            
        }

        function buildingLumberMillStartTimer(millisecondTick, buildTime){
            let seconds = buildTime; 
            let minutes = 0; 
            let hours = 0;

            buildingLumberMillTimerInterval = setInterval(function () {           
                
                seconds--;

                if (seconds >= 0) {
                    minutes = Math.floor(seconds/60);
                    hours = Math.floor(minutes/60);
                } else {
                    minutes = 0;
                    hours = 0;
                }


            var elem = document.querySelector('#build-lumber-mill-timer');
            elem.value = 'hours:'+hours+', minute:'+minutes+', seconds:'+seconds

            }, millisecondTick);
            
        }

        function buildingIronMineStartTimer(millisecondTick, buildTime){
            let seconds = buildTime; 
            let minutes = 0; 
            let hours = 0;

            buildingIronMineTimerInterval = setInterval(function () {           
                
                seconds--;

                if (seconds >= 0) {
                    minutes = Math.floor(seconds/60);
                    hours = Math.floor(minutes/60);
                } else {
                    minutes = 0;
                    hours = 0;
                }


            var elem = document.querySelector('#build-iron-mine-timer');
            elem.value = 'hours:'+hours+', minute:'+minutes+', seconds:'+seconds

            }, millisecondTick);
            
        }

        function buildingBarracksStopTimer() {
            clearInterval(buildingBarracksTimerInterval);
        }

        function buildingFarmStopTimer() {
            clearInterval(buildingFarmTimerInterval);
        }

        function buildingGoldMineStopTimer() {
            clearInterval(buildingGoldMineTimerInterval);
        }

        function buildLumberMillStopTimer(){
            clearInterval(buildingLumberMillTimerInterval);
        }

        function buildIronMineStopTimer(){
            clearInterval(buildingIronMineTimerInterval);
        }

        const buildSettlement = async () => {
            
            console.log('buildSettlement called');
            
            settlementCreated = await createSettlement();
            
            
            console.log('settlement created');
            console.log(settlementCreated);

            showBuildBuildingsControls();
            showProductionControls();
            disableProductionButtons();
            showInventoryControls();
        }

        const buildBarracksHandler = async() =>{
            console.log('buildBarracksHandler called');
            const jsonObj = initialBalancingContent.Building;
            var elem = document.querySelector('#build-barracks-status');
            elem.value = 'Building Barracks...';
            document.getElementById('build-barracks-button').disabled = true;

            buildingBarracksStartTimer(millisecondTickForTimer, 20);
            const newBarracks = await createBuilding(settlementCreated.id, 'barracks');
            monitorBuildingBarracksStatus(newBarracks.id, 'barracks', 20);
            
        }

        const buildFarmHandler = async() =>{
            console.log('buildFarmHandler called');
            const jsonObj = initialBalancingContent.Building;
            var elem = document.querySelector('#build-farm-status');
            elem.value = 'Building Farm...';
            document.getElementById('build-farm-button').disabled = true;

            buildingFarmStartTimer(millisecondTickForTimer, 5);
            const newFarm = await createBuilding(settlementCreated.id, 'farm');
            monitorBuildingFarmStatus(newFarm.id, 'farm', 5);
            
        }

        const buildGoldMineHandler = async() =>{
            console.log('buildGoldMineHandler called');
            const jsonObj = initialBalancingContent.Building;
            var elem = document.querySelector('#build-gold-mine-status');
            elem.value = 'Building Gold Mine...';
            document.getElementById('build-gold-mine-button').disabled = true;

            buildingGoldMineStartTimer(millisecondTickForTimer, 7);
            const newGoldMine = await createBuilding(settlementCreated.id, 'gold-mine');
            monitorBuildingGoldMineStatus(newGoldMine.id, 'gold-mine', 7);
            
        }

        const buildLumberMillHandler = async() =>{
            console.log('buildLumberMillHandler called');
            const jsonObj = initialBalancingContent.Building;
            var elem = document.querySelector('#build-lumber-mill-status');
            elem.value = 'Building Lumber Mine...';
            document.getElementById('build-lumber-mill-button').disabled = true;

            buildingLumberMillStartTimer(millisecondTickForTimer, 10);
            const newLumberMill = await createBuilding(settlementCreated.id, 'lumber-mill');
            monitorBuildingLumberMillStatus(newLumberMill.id, 'lumber-mill', 10);
            
        }

        const buildIronMineHandler = async() =>{
            console.log('buildIronMineHandler called');
            const jsonObj = initialBalancingContent.Building;
            var elem = document.querySelector('#build-iron-mine-status');
            elem.value = 'Building Iron Mine...';
            document.getElementById('build-iron-mine-button').disabled = true;

            buildingIronMineStartTimer(millisecondTickForTimer, 15);
            const newIronMine = await createBuilding(settlementCreated.id, 'iron-mine');
            monitorBuildingIronMineStatus(newIronMine.id, 'iron-mine', 15);
            
        }

        const buildBarracksActivatedCallback = async(activatedBarracks)=>{
            buildingBarracksStopTimer();
            
            var elem = document.querySelector('#build-barracks-status');
            elem.value = 'Barracks created';

            document.getElementById('produce-barracks-button').disabled = false;

            console.log('Barracks created');
            console.log(activatedBarracks);
            
        }

        const buildFarmActivatedCallback = async(activatedFarm)=>{
            buildingFarmStopTimer();
            
            var elem = document.querySelector('#build-farm-status');
            elem.value = 'Farm created';

            document.getElementById('produce-farm-button').disabled = false;

            console.log('Farm created');
            console.log(activatedFarm);
            
        }

        const buildGoldMineActivatedCallback = async(activatedGoldMine)=>{
            buildingGoldMineStopTimer();
            
            var elem = document.querySelector('#build-gold-mine-status');
            elem.value = 'Gold Mine created';

            document.getElementById('produce-gold-mine-button').disabled = false;

            console.log('Gold Mine created');
            console.log(activatedGoldMine);
            
        }

        const buildLumberMillActivatedCallback = async(activatedLumberMill)=>{
            buildLumberMillStopTimer();
            
            var elem = document.querySelector('#build-lumber-mill-status');
            elem.value = 'Lumber Mill created';

            document.getElementById('produce-lumber-mill-button').disabled = false;

            console.log('Lumber Mill created');
            console.log(activatedLumberMill);
            
        }

        const buildIronMineActivatedCallback = async(activatedIronMine)=>{
            buildIronMineStopTimer();
            
            var elem = document.querySelector('#build-iron-mine-status');
            elem.value = 'Iron Mine created';

            document.getElementById('produce-iron-mine-button').disabled = false;

            console.log('Iron mine created');
            console.log(activatedIronMine);
            
        }
        
        
    </script>

<table>
    <tr>
      <th id="user-info"></th>
    </tr>
    <tr>
        <td>
            <button id="register-button" type="button" onclick="javascript:registerHandler()">Register</button>
        </td>
    </tr>
    <tr>
        <td>
            <button id="login-button" type="button" onclick="javascript:loginHandler()">Login</button>
        </td>
    </tr>
    <tr id="build-barracks-row">
        <td>
            <p>Building Controls</p>
            <button id="build-barracks-button" type="button" onclick="javascript:buildBarracksHandler()">Build Barracks</button>
            <label>Timer </label><input id="build-barracks-timer" type="text" disabled=true size="31">
            <label>Status </label><input id="build-barracks-status" type="text" disabled=true>
        </td>
    </tr>
    <tr id="build-farm-row">
        <td>
            <button id="build-farm-button" type="button" onclick="javascript:buildFarmHandler()">Build Farm</button>
            <label>Timer </label><input id="build-farm-timer" type="text" disabled=true size="31">
            <label>Status </label><input id="build-farm-status" type="text" disabled=true>
        </td>
    </tr>
    <tr id="build-gold-mine-row">
        <td>
            <button id="build-gold-mine-button" type="button" onclick="javascript:buildGoldMineHandler()">Build Gold Mine</button>
            <label>Timer </label><input id="build-gold-mine-timer" type="text" disabled=true size="31">
            <label>Status </label><input id="build-gold-mine-status" type="text" disabled=true>
        </td>
    </tr>
    <tr id="build-lumber-mill-row">
        <td>
            <button id="build-lumber-mill-button" type="button" onclick="javascript:buildLumberMillHandler()">Build Lumber Mill</button>
            <label>Timer </label><input id="build-lumber-mill-timer" type="text" disabled=true size="31">
            <label>Status </label><input id="build-lumber-mill-status" type="text" disabled=true>
        </td>
    </tr>
    <tr id="build-iron-mine-row">
        <td>
            <button id="build-iron-mine-button" type="button" onclick="javascript:buildIronMineHandler()">Build Iron Mine</button>
            <label>Timer </label><input id="build-iron-mine-timer" type="text" disabled=true size="31">
            <label>Status </label><input id="build-iron-mine-status" type="text" disabled=true>
        </td>
    </tr>
    <tr id="production-buttons-row">
        <td>
            <p>Resource Production Controls</p>
            <button id="produce-barracks-button" type="button" onclick="javascript:startProduction('barracks', 'soldier') ">Produce Soldier</button>
            <button id="produce-farm-button" type="button" onclick="javascript:startProduction('farm', 'food') ">Produce Food</button>
            <button id="produce-gold-mine-button" type="button" onclick="javascript:startProduction('gold-mine', 'gold') ">Produce Gold</button>
            <button id="produce-lumber-mill-button" type="button" onclick="javascript:startProduction('lumber-mill', 'lumber') ">Produce Lumber</button>
            <button id="produce-iron-mine-button" type="button" onclick="javascript:startProduction('iron-mine', 'iron') ">Produce Iron</button>
        </td>
    </tr>
  </table>
  <br>
  <br>
  <table>
    <tr>
      <th id="inventory-info">Inventory</th>
    </tr>
    <tr>
        <td id="inventory-soldiers">
            soldier: 0
        </td>
    </tr>
    <tr>
        <td id="inventory-food">
            food: 0
        </td>
    </tr>
    <tr>
        <td id="inventory-gold">
            gold: 0
        </td>
    </tr>
    <tr>
        <td id="inventory-lumber">
            lumber: 0
        </td>
    </tr>
    <tr>
        <td id="inventory-iron">
            iron: 0
        </td>
    </tr>
  </table>
</body>
</html>